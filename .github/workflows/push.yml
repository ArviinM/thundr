name: Checking for commits
run-name: ${{ github.actor }} is Triggering Push Commit Checks ðŸš€
on: 
  push:    
    branches-ignore :
      - develop-build
      - test-build
      - production-build
jobs:
  Git-Fetch-State:
    runs-on: linux
    steps:
      - uses: AutoModality/action-clean@v1
      - name: Check out repository code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - run: ls
  Yarn-Install:
        runs-on: linux
        needs: Git-Fetch-State
        steps:
            - run: yarn install
  Lint-Test:
    runs-on: linux
    needs: Yarn-Install
    continue-on-error: true
    steps:
      - run: ls
      - run: yarn lint
  Unit-Test:
    runs-on: linux
    needs: Lint-Test
    continue-on-error: true
    steps:
      - run: ls
      - run: yarn test
  Sonar-Test:
    runs-on: linux
    needs: Unit-Test
    steps:
      - run: ls
      - run: sonar-scanner -Dsonar.projectKey=thundr-mobile -Dsonar.sources=src -Dsonar.host.url=https://sonarqube.thundr.ph -Dsonar.token=${{secrets.SONAR_TOKEN}}
concurrency:
  group: thundr-mobile
  cancel-in-progress: false

